<!doctype html>
<html>

<head>
    <title>S3Bucket.s3.stackable.tech/v1alpha1</title>
    <link rel="icon" type="image/png" href="/static/favicon.ico?v=1" />

<meta charset="utf-8" />
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="twitter:image:src" content="https://doc.crds.dev/static/twitter.jpg" />
<meta name="twitter:site" content="@crdsdev" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="S3Bucket.s3.stackable.tech/v1alpha1" />
<meta name="twitter:description" content="Automatic documentation for your CustomResourceDefinitions." />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.css" integrity="sha256-iqohlDG+xn9MRt53DKygzaORvtzhTCN4xvi1LHNU3OM=" crossorigin="anonymous">

<link href="https://unpkg.com/prismjs@1/themes/prism.css" rel="stylesheet"></link>
<link href="https://unpkg.com/prismjs@1/themes/prism-okaidia.css" rel="stylesheet"></link>
    <link rel="stylesheet" href="/static/root.css">
</head>


<body class="" data-dm-shortcut-enabled="true" data-sidebar-shortcut-enabled="true">

    <div class="page-wrapper with-navbar">
        <div class="sticky-alerts"></div>
        
        <nav class="navbar">
    <a class="navbar-brand" href="/">Doc</a>
    <ul class="navbar-nav d-none d-md-flex">
    <li class="breadcrumb-item"><a href="/stackabletech/commons-operator/23.7.0">stackabletech/commons-operator/23.7.0</a></li>
    <li class="breadcrumb-item active" aria-current="page"><a href="#">S3Bucket.v1alpha1.s3.stackable.tech</a></li>
</ul>
</nav>
        
        <style>
    .crd-label .crd-type,
    .crd-label .crd-value {
        display: inline-block
    }
</style>
<div class="content-wrapper">
    <div class="container">
    </div>
</div>

<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script>window.react = window.React</script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/htm@3/dist/htm.umd.js"></script>
<script src="https://unpkg.com/htm@3/react/index.umd.js"></script>
<script src="https://unpkg.com/marked@1.2.4/marked.min.js"></script>
<script src="https://unpkg.com/dompurify@2.2.2/dist/purify.js"></script>
<script src="https://unpkg.com/eventemitter3@4.0.7/umd/eventemitter3.min.js"></script>
<script src="https://unpkg.com/slugify@1.4.6/slugify.js"></script>
<script src="https://unpkg.com/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script id="pageData" type="application/json">
    {"Page":{"Analytics":false,"DisableNavBar":false,"IsDarkMode":false,"Title":"S3Bucket.s3.stackable.tech/v1alpha1"},"Repo":"stackabletech/commons-operator","Tag":"23.7.0","At":"","Group":"s3.stackable.tech","Version":"v1alpha1","Kind":"S3Bucket","Description":"Auto-generated derived type for S3BucketSpec via `CustomResource`","Schema":{"ID":"","Schema":"","Ref":null,"Description":"Auto-generated derived type for S3BucketSpec via `CustomResource`","Type":"object","Nullable":false,"Format":"","Title":"S3Bucket","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["spec"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":{"spec":{"ID":"","Schema":"","Ref":null,"Description":"S3 bucket specification containing only the bucket name and an inlined or referenced connection specification.","Type":"object","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":{"bucketName":{"ID":"","Schema":"","Ref":null,"Description":"","Type":"string","Nullable":true,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"connection":{"ID":"","Schema":"","Ref":null,"Description":"Operators are expected to define fields for this type in order to work with S3 connections.","Type":"object","Nullable":true,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":[{"ID":"","Schema":"","Ref":null,"Description":"","Type":"","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["inline"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},{"ID":"","Schema":"","Ref":null,"Description":"","Type":"","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["reference"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}],"AnyOf":null,"Not":null,"Properties":{"inline":{"ID":"","Schema":"","Ref":null,"Description":"S3 connection definition as CRD.","Type":"object","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":{"accessStyle":{"ID":"","Schema":"","Ref":null,"Description":"Which access style to use. Defaults to virtual hosted-style as most of the data products out there. Have a look at the official documentation on \u003chttps://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html\u003e","Type":"string","Nullable":true,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":["Path","VirtualHosted"],"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"credentials":{"ID":"","Schema":"","Ref":null,"Description":"If the S3 uses authentication you have to specify you S3 credentials. In the most cases a SecretClass providing `accessKey` and `secretKey` is sufficient.","Type":"object","Nullable":true,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["secretClass"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":{"scope":{"ID":"","Schema":"","Ref":null,"Description":"[Scope](https://docs.stackable.tech/secret-operator/scope.html) of the [SecretClass](https://docs.stackable.tech/secret-operator/secretclass.html)","Type":"object","Nullable":true,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":{"node":{"ID":"","Schema":"","Ref":null,"Description":"","Type":"boolean","Nullable":false,"Format":"","Title":"","Default":false,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"pod":{"ID":"","Schema":"","Ref":null,"Description":"","Type":"boolean","Nullable":false,"Format":"","Title":"","Default":false,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"services":{"ID":"","Schema":"","Ref":null,"Description":"","Type":"array","Nullable":false,"Format":"","Title":"","Default":[],"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":{"Schema":{"ID":"","Schema":"","Ref":null,"Description":"","Type":"string","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"JSONSchemas":null},"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"secretClass":{"ID":"","Schema":"","Ref":null,"Description":"[SecretClass](https://docs.stackable.tech/secret-operator/secretclass.html) containing the LDAP bind credentials","Type":"string","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"host":{"ID":"","Schema":"","Ref":null,"Description":"Hostname of the S3 server without any protocol or port","Type":"string","Nullable":true,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"port":{"ID":"","Schema":"","Ref":null,"Description":"Port the S3 server listens on. If not specified the products will determine the port to use.","Type":"integer","Nullable":true,"Format":"uint16","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":0,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"tls":{"ID":"","Schema":"","Ref":null,"Description":"If you want to use TLS when talking to S3 you can enable TLS encrypted communication with this setting.","Type":"object","Nullable":true,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["verification"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":{"verification":{"ID":"","Schema":"","Ref":null,"Description":"The verification method used to verify the certificates of the server and/or the client","Type":"object","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":[{"ID":"","Schema":"","Ref":null,"Description":"","Type":"","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["none"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},{"ID":"","Schema":"","Ref":null,"Description":"","Type":"","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["server"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}],"AnyOf":null,"Not":null,"Properties":{"none":{"ID":"","Schema":"","Ref":null,"Description":"Use TLS but don't verify certificates","Type":"object","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"server":{"ID":"","Schema":"","Ref":null,"Description":"Use TLS and ca certificate to verify the server","Type":"object","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["caCert"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":{"caCert":{"ID":"","Schema":"","Ref":null,"Description":"Ca cert to verify the server","Type":"object","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":[{"ID":"","Schema":"","Ref":null,"Description":"","Type":"","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["webPki"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},{"ID":"","Schema":"","Ref":null,"Description":"","Type":"","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":["secretClass"],"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}],"AnyOf":null,"Not":null,"Properties":{"secretClass":{"ID":"","Schema":"","Ref":null,"Description":"Name of the SecretClass which will provide the ca cert. Note that a SecretClass does not need to have a key but can also work with just a ca cert. So if you got provided with a ca cert but don't have access to the key you can still use this method.","Type":"string","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"webPki":{"ID":"","Schema":"","Ref":null,"Description":"Use TLS and the ca certificates trusted by the common web browsers to verify the server. This can be useful when you e.g. use public AWS S3 or other public available services.","Type":"object","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null},"reference":{"ID":"","Schema":"","Ref":null,"Description":"","Type":"string","Nullable":false,"Format":"","Title":"","Default":null,"Maximum":null,"ExclusiveMaximum":false,"Minimum":null,"ExclusiveMinimum":false,"MaxLength":null,"MinLength":null,"Pattern":"","MaxItems":null,"MinItems":null,"UniqueItems":false,"MultipleOf":null,"Enum":null,"MaxProperties":null,"MinProperties":null,"Required":null,"Items":null,"AllOf":null,"OneOf":null,"AnyOf":null,"Not":null,"Properties":null,"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}},"AdditionalProperties":null,"PatternProperties":null,"Dependencies":null,"AdditionalItems":null,"Definitions":null,"ExternalDocs":null,"Example":null,"XPreserveUnknownFields":null,"XEmbeddedResource":false,"XIntOrString":false,"XListMapKeys":null,"XListType":null,"XMapType":null}}
</script>
<script type="module">
    const { render } = ReactDOM;
    const { useMemo, useState, useEffect, useCallback } = React;
    const { html } = htmReact;
    const bus = new EventEmitter3();
    window.bus = bus;

    const clipboard = new ClipboardJS('.copy-url');
    clipboard.on('success', e => {
        halfmoon.initStickyAlert({
            content: "Copied Link!",
            timeShown: 2000
        })
    });

    marked.use({
        renderer: {
            code: (code, lang, escaped) => {
                const tokenizedCode = window.Prism ? Prism.highlight(code, Prism.languages[lang], lang) : `${code}`;
                return `<pre class="language-${lang}"><code class="language-${lang}">${tokenizedCode}</code></pre>`;
            }
        }
    })

    const { Kind, Group, Version, Schema } = JSON.parse(document.getElementById('pageData').textContent);

    const properties = Schema.Properties;
    if (properties?.apiVersion) delete properties.apiVersion;
    if (properties?.kind) delete properties.kind;
    if (properties?.metadata?.Type == "object") delete properties.metadata;

    function getDescription(schema) {
        let desc = schema.Description || '';
        if (desc.trim() == '') {
            desc = '_No Description Provided._'
        }
        return DOMPurify.sanitize(marked(desc));
    }

    function CRD() {
        const expandAll = useCallback(() => bus.emit('expand-all'), []);
        const collapseAll = useCallback(() => bus.emit('collapse-all'), []);
        return html`
            <div class="parts d-md-flex justify-content-between mt-md-20 mb-md-20">
                <${PartLabel} type="Kind" value=${Kind} />
                <${PartLabel} type="Group" value=${Group} />
                <${PartLabel} type="Version" value=${Version} />
            </div>

            <hr class="mb-md-20" />
            <pre><code class="language-yaml">${`apiVersion: ${Group}/${Version}\nkind: ${Kind}`}</code></pre>

            <p class="font-size-18">${React.createElement('div', { dangerouslySetInnerHTML: { __html: getDescription(Schema) } })}</p>

            <div class="${properties == null ? 'd-none' : 'd-flex'} flex-row-reverse mb-10 mt-10">
                <button class="btn ml-10" type="button" onClick=${expandAll}>+ expand all</button>
                <button class="btn" type="button" onClick=${collapseAll}>- collapse all</button>
            </div>
            <div class="collapse-group">
                ${properties != null
                ? Object.keys(properties).map(prop => SchemaPart({ key: prop, property: properties[prop] }))
                : html`
                    <p class="font-size-18">
                        This CRD has an empty or unspecified schema.
                    </p>
                    `
            }
            </div>
        `;
    }

    function SchemaPart({ key, property, parent, parentSlug }) {
        const [props, propKeys, required, type, schema] = useMemo(() => {
            let schema = property;
            let props = property.Properties || {};

            let type = property.Type;
            if (type === 'array') {
                const itemsSchema = property.Items.Schema;
                if (itemsSchema.Type !== 'object') {
                    type = `[]${itemsSchema.Type}`;
                } else {
                    schema = itemsSchema;
                    props = itemsSchema.Properties || {};
                    type = `[]object`;
                }
            }
            let propKeys = Object.keys(props);

            let required = false;
            if (parent && parent.Required && parent.Required.includes(key)) {
                required = true;
            }
            return [props, propKeys, required, type, schema]
        }, [parent, property]);

        const slug = useMemo(() => slugify((parentSlug ? `${parentSlug}-` : '') + key), [parentSlug, key]);
        const fullLink = useMemo(() => {
            const url = new URL(location.href);
            url.hash = `#${slug}`;
            return url.toJSON();
        });
        const isHyperlinked = useCallback(() => location.hash.substring(1).startsWith(slug), [slug]);

        const [isOpen, setIsOpen] = useState((key == "spec" && !parent) || isHyperlinked());

        useEffect(() => {
            const handleHashChange = () => {
                if (!isOpen && isHyperlinked()) {
                    setIsOpen(true);
                }
            };
            window.addEventListener('hashchange', handleHashChange);
            return () => window.removeEventListener('hashchange', handleHashChange);
        }, [isOpen]);

        useEffect(() => {
            const collapse = () => setIsOpen(false);
            const expand = () => setIsOpen(true);
            bus.on('collapse-all', collapse);
            bus.on('expand-all', expand);
            return () => {
                bus.off('collapse-all', collapse);
                bus.off('expand-all', expand);
            };
        }, []);

        return html`
        <details class="collapse-panel" open="${isOpen}" onToggle=${e => { setIsOpen(e.target.open); e.stopPropagation(); }}>
            <summary class="collapse-header position-relative">
                ${key} <kbd class="text-muted">${type}</kbd> ${required ? html`<span class="badge badge-primary">required</span>` : ''}
                <button class="btn btn-sm position-absolute right-0 top-0 m-5 copy-url z-10" type="button" data-clipboard-text="${fullLink}">🔗</button>
            </summary>
            <div id="${slug}" class="collapse-content">
                ${React.createElement("div", { className: 'property-description', dangerouslySetInnerHTML: { __html: getDescription(property) } })}
                ${propKeys.length > 0 ? html`<br />` : ''}
                <div class="collapse-group">
                ${propKeys
                .map(propKey => SchemaPart({
                    parent: schema, parentKey: key, key: propKey, property: props[propKey], parentSlug: slug
                }))}
                </div>
            </div>
        </details>`;
    }

    function PartLabel({ type, value }) {
        return html`
        <div class="mt-10">
            <span class="font-weight-semibold font-size-24">${value}</span>
            <br />
            <span class="badge text-muted font-size-12">${type}</span>
        </div>`;
    }

    render(html`<${CRD} />`, document.querySelector('.container'));
</script>
<script defer src="https://unpkg.com/prismjs@1/components/prism-core.min.js"></script>
<script defer src="https://unpkg.com/prismjs@1/plugins/autoloader/prism-autoloader.min.js"></script>
<style>
     
    .property-description>p {
        margin: 0;
    }
</style>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/js/halfmoon.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/attribution.js" integrity="sha256-1lIkxUOvLmxpfk9lU7gVv7Ul1At64CimZ6WahU7aMIw=" crossorigin="anonymous"></script>

<script>
    
    (() => {
        if (halfmoon.getPreferredMode() === "not-set") {
            const mode = window.matchMedia("(prefers-color-scheme: dark)");
            if (mode.matches) {
                halfmoon.toggleDarkMode();
            }
        }
    })();
</script>
</body>

</html>